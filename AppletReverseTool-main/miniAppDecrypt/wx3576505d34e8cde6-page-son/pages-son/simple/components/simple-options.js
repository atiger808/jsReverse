(global.webpackJsonp=global.webpackJsonp||[]).push([["pages-son/simple/components/simple-options"],{"079d":function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return i}));var i={uIcon:function(){return t.e("node-modules/uview-ui/components/u-icon/u-icon").then(t.bind(null,"83fd"))},uImage:function(){return t.e("node-modules/uview-ui/components/u-image/u-image").then(t.bind(null,"44e8"))},dkUpload:function(){return Promise.all([t.e("common/vendor"),t.e("components/dk-upload/dk-upload")]).then(t.bind(null,"77ab"))},batchAdd:function(){return t.e("components/batch-add/batch-add").then(t.bind(null,"043a"))},yyPrivacyPopup:function(){return t.e("components/yy-privacy-popup/yy-privacy-popup").then(t.bind(null,"cedb"))}},o=function(){var n=this,e=(n.$createElement,n._self._c,n.__map(n.join,(function(e,t){return{$orig:n.__get_orig(e),g0:3!==n.mediaType||-1!==e.media_type?0===e.media_type||e.thumb.length:null}})));n._isMounted||(n.e0=function(e,t){for(var i=[],o=arguments.length-2;o-- >0;)i[o]=arguments[o+2];var a=i[i.length-1].currentTarget.dataset,u=a.eventParams||a["event-params"];return t=u.index,n.uploadSuccess(e,t,"thumb")},n.e1=function(e,t){for(var i=[],o=arguments.length-2;o-- >0;)i[o]=arguments[o+2];var a=i[i.length-1].currentTarget.dataset,u=a.eventParams||a["event-params"];return t=u.index,n.uploadSuccess(e,t,"sign_video")},n.e2=function(e,t){for(var i=[],o=arguments.length-2;o-- >0;)i[o]=arguments[o+2];var a=i[i.length-1].currentTarget.dataset,u=a.eventParams||a["event-params"];return t=u.index,n.videoDetail(t,e)},n.e3=function(e,t){for(var i=e.del,o=e.tempFilePaths,a=[],u=arguments.length-2;u-- >0;)a[u]=arguments[u+2];var s=a[a.length-1].currentTarget.dataset,r=s.eventParams||s["event-params"];return t=r.index,n.videoDelete(i,o,t)},n.e4=function(e){n.batch_add_visible=!0},n.e5=function(e){n.batch_add_visible=!1}),n.$mp.data=Object.assign({},{$root:{l0:e}})},a=[]},"173b":function(n,e,t){"use strict";var i=t("fc79");t.n(i).a},b34f:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t("ae87"),o=t("3544"),a={components:{BatchAdd:function(){t.e("pages-son/simple/components/batch-add").then(function(){return resolve(t("f4a9"))}.bind(null,t)).catch(t.oe)}},props:{value:{type:Array,default:function(){return[]}},mediaType:{type:Number,default:void 0},create:{type:Boolean,default:!1},num:{type:Array,default:function(){return[]}}},watch:{value:{immediate:!0,handler:function(n){this.join=n}}},data:function(){return{join:[],batch_add_visible:!1}},methods:{onChangeMediaType:function(){this.$emit("onChangeMediaType")},onMinus:function(n){if(this.create&&this.join.length<=2)return this.$u.toast("至少添加两个选项");this.join.splice(n,1)},onAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.join.length>=30&&this.create)n.showModal({title:"提示",content:"为了防止你本次添加过程中失误，请先点击底部(立即创建),然后在活动管理继续添加(不限数量哦)",confirmText:"确认",success:function(n){n.confirm,n.cancel}});else for(var i=0;i<t;i++){var a=this.$u.deepClone(o.SIMPLE_JOIN);a.name=e,this.join.push(a)}},onChangeMedia:function(e){var t=this;n.showActionSheet({itemList:["选择图片","选择视频"],success:function(n){var i=n.tapIndex;t.join[e].media_type=i}})},videoDetail:function(n,e){var t=e.duration,i=this.join[n];i.sign_video={url:void 0,img:void 0,duration:Math.floor(t)},this.$set(this.join,n,i)},videoDelete:function(n,e,t){console.log("删除前",this.join),this.join[t].sign_video="",console.log("删除后",this.join)},uploadSuccess:function(n,e,t){if("thumb"===t)this.join[e][t].push(n);else{var o=this.join[e],a=(0,i.getCover)(o.sign_video);o.sign_video.img=a[0].split("?")[1],o.sign_video.url=n,this.$set(this.join,e,o)}},optionsAdd:function(n){var e=this;this.batch_add_visible=!1;var t=this.join.length;this.create?n.forEach((function(n,i){n&&t+i<31&&e.onAdd(n)})):n.forEach((function(n,t){n&&e.onAdd(n)}))}},updated:function(){this.$emit("input",this.join)}};e.default=a}).call(this,t("df3c").default)},ec9a:function(n,e,t){"use strict";t.r(e);var i=t("079d"),o=t("f0b5");for(var a in o)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(a);t("173b");var u=t("828b"),s=Object(u.a)(o.default,i.b,i.c,!1,null,null,null,!1,i.a,void 0);e.default=s.exports},f0b5:function(n,e,t){"use strict";t.r(e);var i=t("b34f"),o=t.n(i);for(var a in i)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(a);e.default=o.a},fc79:function(n,e,t){}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages-son/simple/components/simple-options-create-component",{"pages-son/simple/components/simple-options-create-component":function(n,e,t){t("df3c").createComponent(t("ec9a"))}},[["pages-son/simple/components/simple-options-create-component"]]]);