(global.webpackJsonp=global.webpackJsonp||[]).push([["components/dk-music/dk-music"],{2525:function(n,t,o){"use strict";var e=o("8741");o.n(e).a},"25b7":function(n,t,o){"use strict";o.r(t);var e=o("7d1d"),i=o.n(e);for(var a in e)["default"].indexOf(a)<0&&function(n){o.d(t,n,(function(){return e[n]}))}(a);t.default=i.a},"7d1d":function(n,t,o){"use strict";(function(n,o){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"dk-music",props:{value:{type:String,default:void 0},color:{type:String,default:"#ffffff"}},watch:{value:{immediate:!0,handler:function(t){var o=this;console.info(t),t?((e=n.createInnerAudioContext()).src=t,e.autoplay=!0,e.loop=!1,e.onPlay((function(){o.name="yinle",o.onPlay=!0,console.log("开始播放")})),e.onTimeUpdate((function(n){console.log("音频播放进度更新",n)})),e.onWaiting((function(n){console.log("音频加载中事件",n)})),e.onPause((function(){o.name="guanbiyinle",o.onPlay=!1,o.stop(),console.log("暂停播放")})),e.onStop((function(){o.name="guanbiyinle",o.onPlay=!1,console.log("停止播放")})),e.onError((function(n){o.name="guanbiyinle",o.onPlay=!1})),this.start()):this.toggle(!0)}}},data:function(){return{name:"yinle",onPlay:!1,timer:void 0,n:0,animationData:{}}},methods:{start:function(){var n=o.createAnimation({duration:2e3,timingFunction:"linear"});this.animation=n,this.animationData=n.export();var t=this.n;this.timer=setInterval(function(){t+=1,this.n=t,this.animation.rotate(180*t).step(),this.animationData=this.animation.export()}.bind(this),2e3)},stop:function(){clearInterval(this.timer),this.timer=void 0,e&&e.pause()},toggle:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.value&&(this.onPlay||n?this.stop():(e.play(),this.start()))}},mounted:function(){var t=this;n.$on("music-pause",(function(){t.stop()}))},onPageHide:function(){var n=this;this.$nextTick((function(){var t=getCurrentPages().at(-1).route;console.info({page:t}),["pages-son/vote/player","pages-son/vote/big-screen"].includes(t)||n.stop()}))},beforeDestroy:function(){n.$off("music-pause"),this.stop()}};t.default=i}).call(this,o("df3c").default,o("3223").default)},8741:function(n,t,o){},a33a:function(n,t,o){"use strict";o.r(t);var e=o("d39d"),i=o("25b7");for(var a in i)["default"].indexOf(a)<0&&function(n){o.d(t,n,(function(){return i[n]}))}(a);o("2525");var u=o("828b"),c=Object(u.a)(i.default,e.b,e.c,!1,null,null,null,!1,e.a,void 0);t.default=c.exports},d39d:function(n,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return e}));var e={uIcon:function(){return o.e("node-modules/uview-ui/components/u-icon/u-icon").then(o.bind(null,"83fd"))}},i=function(){this.$createElement,this._self._c},a=[]}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["components/dk-music/dk-music-create-component",{"components/dk-music/dk-music-create-component":function(n,t,o){o("df3c").createComponent(o("a33a"))}},[["components/dk-music/dk-music-create-component"]]]);