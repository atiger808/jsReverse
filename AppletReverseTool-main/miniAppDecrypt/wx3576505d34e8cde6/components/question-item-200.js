(global.webpackJsonp=global.webpackJsonp||[]).push([["components/question-item-200"],{"0150":function(o,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return t}));var t={uIcon:function(){return n.e("node-modules/uview-ui/components/u-icon/u-icon").then(n.bind(null,"83fd"))},myIsFold:function(){return n.e("components/my-is-fold/my-is-fold").then(n.bind(null,"1a96"))},uInput:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-input/u-input")]).then(n.bind(null,"5905"))},uLazyLoad:function(){return n.e("node-modules/uview-ui/components/u-lazy-load/u-lazy-load").then(n.bind(null,"aeb0"))},dkUpload:function(){return Promise.all([n.e("common/vendor"),n.e("components/dk-upload/dk-upload")]).then(n.bind(null,"77ab"))},uField:function(){return n.e("node-modules/uview-ui/components/u-field/u-field").then(n.bind(null,"1e4b"))},uButton:function(){return n.e("node-modules/uview-ui/components/u-button/u-button").then(n.bind(null,"66c1"))}},i=function(){var o=this,e=(o.$createElement,o._self._c,o.option.length),n=e?o.__map(o.option,(function(e,n){return{$orig:o.__get_orig(e),l0:"radio"!=e.type&&"checkbox"!=e.type||1!=e.style_list?null:o.__map(e.option,(function(e,n){return{$orig:o.__get_orig(e),m0:e.image&&1==o.vuex_file_handling.image_thumbnail?o.$img_min(null,250):null}})),l1:"scoring"==e.type?o.__map(e.option,(function(e,n){return{$orig:o.__get_orig(e),m1:e.image&&1==o.vuex_file_handling.image_thumbnail?o.$img_min(null,250):null}})):null,g1:"region"==e.type?e.region.length:null,g2:"region"==e.type?e.region.join("/"):null,g3:"autograph"==e.type?e.value.length:null,m2:"autograph"==e.type&&1==o.vuex_file_handling.image_thumbnail?o.$img_min(null,600):null}})):null;o._isMounted||(o.e0=function(e,n){for(var t=[],i=arguments.length-2;i-- >0;)t[i]=arguments[i+2];var r=t[t.length-1].currentTarget.dataset,u=r.eventParams||r["event-params"];return n=u.index,o.uploadSuccess(e,n)},o.e1=function(e,n){for(var t=[],i=arguments.length-2;i-- >0;)t[i]=arguments[i+2];var r=t[t.length-1].currentTarget.dataset,u=r.eventParams||r["event-params"];return n=u.index,o.imgDelete(e,n)},o.e2=function(e,n){for(var t=[],i=arguments.length-2;i-- >0;)t[i]=arguments[i+2];var r=t[t.length-1].currentTarget.dataset,u=r.eventParams||r["event-params"];return n=u.index,o.getphonenumber(e,n)}),o.$mp.data=Object.assign({},{$root:{g0:e,l2:n}})},r=[]},"0578":function(o,e,n){"use strict";n.r(e);var t=n("768f"),i=n.n(t);for(var r in t)["default"].indexOf(r)<0&&function(o){n.d(e,o,(function(){return t[o]}))}(r);e.default=i.a},"52f5":function(o,e,n){},"768f":function(o,e,n){"use strict";(function(o){var t=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(n("7eb4")),r=t(n("ee10")),u=t(n("03ec")),a=n("3544"),c=(n("9081"),n("942a")),l={name:"question-item-200",props:{value:{type:Array,default:function(){return[{}]}},disabled:{type:Boolean,default:!1},is_hd:{type:Number,default:1},isShowSelect:{type:Boolean,default:!0},form:{type:Boolean,default:!0}},components:{multipleSelectItemVue:function(){n.e("components/multiple-select-item").then(function(){return resolve(n("a819"))}.bind(null,n)).catch(n.oe)}},watch:{value:{immediate:!0,handler:function(o){var e=this;console.log("初始化之前"),o.forEach((function(o){o.guid||(o.guid=e.$u.guid()),"img"!=o.type&&"autograph"!=o.type&&"video"!=o.type||o.value&&o.value.length||(o.value=[]),void 0!==o.value&&o.value||(o.value=""),"scoring"==o.type&&o.option.forEach((function(o){o.num||(o.num=0)})),"region"==o.type&&(o.region||(o.region=["地区选择"])),"radio"!==o.type&&"checkbox"!==o.type&&"scoring"!==o.type||o.option.forEach((function(o){o.checkbox||(o.checkbox=!1),1!=o.is_other||o.value||(o.value="")}))})),this.option=o,this.$u.deepClone(o)}}},data:function(){return{show:!1,option:[],COMPLETION:a.COMPLETION,SINGLE_CHOICE:a.SINGLE_CHOICE,MUITIPLE_CHOICE:a.MUITIPLE_CHOICE,IMAGE_QUES:a.IMAGE_QUES,PHONE_QUES:a.PHONE_QUES,SIGNATURE:a.SIGNATURE,is_intro:!0,shadowStyle:{backgroundImage:"linear-gradient(-180deg, rgba(255, 255, 255, 0) 30%, #ffffff80 60%, #ffffff 95%)",paddingTop:"170rpx",marginTop:"-220rpx",width:"101%",paddingBottom:"30rpx",position:"relative",zIndex:9}}},created:function(){},methods:{addressPopupClick:function(o,e){this.option[o].region=e.detail.value,this.$forceUpdate()},previewImage:function(e){o.previewImage({urls:[e],showmenu:!0,fail:function(o){(0,u.default)("未知错误")}})},showIsIntro:function(o){var e=this;this.$nextTick((function(){setTimeout((function(){e.$refs.myIsFold&&e.$refs.myIsFold.map((function(o){o.init()}))}),100)}))},handlePreview:function(e){o.previewImage({current:e,urls:[e],complete:function(o){console.info(o)}})},resetForm:function(){var o=this,e=JSON.parse(JSON.stringify(this.option));if(1==this.option.length)return e[0].value="",this.option=[],void setTimeout((function(){o.option[0]=e[0],o.$forceUpdate()}));console.log("this.option",this.option),console.log(this.option),e.forEach((function(e,n){"img"!=e.type&&"autograph"!=e.type&&"video"!=e.type||(o.option[n].value=[]),"text"!=e.type&&"textarea"!=e.type&&"phone"!=e.type||(o.option[n].value=""),"region"==e.type&&(o.option[n].region=["地区选择"],o.option[n].value=""),"radio"!==e.type&&"checkbox"!==e.type||e.option.forEach((function(e,t){o.option[n].option[t].checkbox=!1,o.option[n].option[t].value=""})),"scoring"==e.type&&e.option.forEach((function(e,t){o.option[n].option[t].num=0,o.option[n].option[t].value=""}))})),this.$forceUpdate()},selectScoringAdd:function(o,e,n){var t=this.option[1*o];if(console.log(o,e,n),1*n<=0||!n)return this.option[o].option[e].num=0,this.option[o].option[e].value=0,void this.$forceUpdate();if(n>this.option[o].option[e].limit_num)return(0,u.default)("最大不可超过"+this.option[o].option[e].limit_num),this.option[o].option[e].num=this.option[o].option[e].limit_num,this.option[o].option[e].value=this.option[o].option[e].limit_num,void this.$forceUpdate();if("scoring"==t.type){var i=0;if(t.option.forEach((function(o){1*o.num&&i++})),t.limit_checkbox.max<=i&&!this.option[o].option[e].num)return(0,u.default)("最多选择"+t.limit_checkbox.max+"项")}this.option[o].option[e].num=n,this.option[o].option[e].value=n,this.$forceUpdate()},selectScoring:function(o,e,n){console.log(o,e,n),console.log(n);var t=this.option[1*o];if(!t)return(0,u.default)("数据错误 213001-385");if(this.option[o].option[e].num==n+1)this.option[o].option[e].num=0;else{if("scoring"==t.type){var i=0;if(t.option.forEach((function(o){1*o.num&&i++})),t.limit_checkbox.max<=i&&!this.option[o].option[e].num)return(0,u.default)("最多选择"+t.limit_checkbox.max+"项")}this.option[o].option[e].num=n+1,this.option[o].option[e].value=this.option[o].option[e].num}this.$forceUpdate()},selectClick:function(o,e){var n=this.option[o];if(console.log("child    ",n.option[e]),n.option[e].limit_num&&n.option[e].limit_num<=n.option[e].vote_num)return(0,c.showModel)("提示","当前选项已达举办方设置的上限，不可选中，请选择其他选项");if(!n)return(0,u.default)("数据错误 213000");var t=n.option[e].checkbox;if("radio"==n.type&&this.option[o].option.forEach((function(o){return o.checkbox=!1})),"checkbox"==n.type&&n.limit_checkbox.max&&!t){var i=0;if(n.option.forEach((function(o){o.checkbox&&i++})),console.log(i,n.limit_checkbox.max),n.limit_checkbox.max<=i)return(0,u.default)("最多选择"+n.limit_checkbox.max+"项")}this.$set(this.option[o].option[e],"checkbox",!t),this.$forceUpdate()},addCheckboxNum:function(){this.option.forEach((function(o){"radio"!=o.type&&"checkbox"!=o.type||o.option.forEach((function(o){o.checkbox&&(o.vote_num=o.vote_num+1)}))})),this.$forceUpdate()},checkForm:function(){var o=this.$u.deepClone(this.option);return o.forEach((function(o,e){var n="第".concat(e+1,"项"),t=1==o.is_required;switch(o.type){case"text":case"textarea":if(!o.value&&t)throw new Error(n+"未填写");break;case"radio":if(!o.option.some((function(o){return o.checkbox}))&&t)throw new Error(n+"单选未选择");o.option.forEach((function(o){if(1==o.is_other&&o.checkbox&&!o.value)throw new Error(n+"单选其他项未填写")}));break;case"checkbox":if(!o.option.some((function(o){return o.checkbox}))&&t)throw new Error(n+"多选未选择");var i=0;if(o.option.forEach((function(o){o.checkbox&&i++})),console.log(i,o.limit_checkbox.min),o.limit_checkbox.min>i)throw new Error(n+"多选最少选择"+o.limit_checkbox.min+"子项");o.option.forEach((function(o){if(1==o.is_other&&o.checkbox&&!o.value)throw new Error(n+"多选其他项未填写")}));break;case"scoring":if(!o.option.some((function(o){return o.num}))&&t)throw new Error(n+"打分项未选择");if(i=0,o.option.forEach((function(o){1*o.num&&i++})),console.log(i,o.limit_checkbox.min),o.limit_checkbox.min>i)throw new Error(n+"打分项最少选择"+o.limit_checkbox.min+"子项");break;case"region":if(t)switch(o.format){case 1:if(o.region.includes("地区选择")||o.region.includes("全部")||!o.value)throw new Error(n+"省市区与详细地址为必填");break;case 2:if(o.region.includes("地区选择")||o.region.includes("全部"))throw new Error(n+"省市区为必选");case 3:if(o.region.includes("地区选择")||"全部"==o.region[0]||"全部"==o.region[1])throw new Error(n+"省市为必选");break;case 4:if(o.region.includes("地区选择")||"全部"==o.region[0])throw new Error(n+"省为必选")}break;case"img":if(!o.value.length&&t)throw new Error(n+"未上传图片");break;case"phone":if(!o.value.length&&t)throw new Error(n+"请输入手机号");if(1===o.is_required&&!o.value)throw new Error("".concat(1===o.is_nimble?"请授权":"请输入").concat(n,"手机号"));if(!/^1[3-9]\d{9}$/.test(o.value))throw new Error("".concat(n,"请输入正确的手机号"));break;case"autograph":if(!o.value.length&&t)throw new Error(n+"未签名")}})),o},toSignature:function(o){this.$emit("updata",this.option),this.$u.route({url:"/pages-son/solitaire/signature-main",params:{index:o}})},change:function(o,e){var n=o.detail;(n.data,n.value).length>=e&&this.$u.toast("最多选择".concat(e,"项"))},uploadSuccess:function(o,e){console.log("uploadSuccess 上传成功函数",o,e),this.option[e].value.push(o),this.$forceUpdate(),console.log("uploadSuccess 上传成功函数2222",this.option[e])},imgDelete:function(o,e){o.del;var n=o.tempFilePaths;this.option[e].content.value=n},getphonenumber:function(o,e){var n=this;return(0,r.default)(i.default.mark((function t(){var r,u,a,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=o.detail,console.log("dataaaaaaaaaa",r,e),!(u=r.code)){t.next=11;break}return t.next=6,n.$u.api.getPhone({code:u});case 6:a=t.sent,c=a.phoneNumber,n.option[e].value=c,n.$forceUpdate(),console.log("phoneNumber",c,e);case 11:case"end":return t.stop()}}),t)})))()}}};e.default=l}).call(this,n("df3c").default)},"88a1":function(o,e,n){"use strict";var t=n("52f5");n.n(t).a},c240:function(o,e,n){"use strict";n.r(e);var t=n("0150"),i=n("0578");for(var r in i)["default"].indexOf(r)<0&&function(o){n.d(e,o,(function(){return i[o]}))}(r);n("88a1");var u=n("828b"),a=Object(u.a)(i.default,t.b,t.c,!1,null,"d2cdef40",null,!1,t.a,void 0);e.default=a.exports}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["components/question-item-200-create-component",{"components/question-item-200-create-component":function(o,e,n){n("df3c").createComponent(n("c240"))}},[["components/question-item-200-create-component"]]]);