(global.webpackJsonp=global.webpackJsonp||[]).push([["components/dk-activity-manage-200/dk-activity-manage-200"],{1287:function(t,e,n){"use strict";n.r(e);var i=n("91c0"),a=n("d6e9");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("eae4");var u=n("828b"),o=Object(u.a)(a.default,i.b,i.c,!1,null,null,null,!1,i.a,void 0);e.default=o.exports},4561:function(t,e,n){},"91c0":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={uPopup:function(){return n.e("node-modules/uview-ui/components/u-popup/u-popup").then(n.bind(null,"5409"))},uniNoticeBar:function(){return n.e("uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar").then(n.bind(null,"27f9"))},uButton:function(){return n.e("node-modules/uview-ui/components/u-button/u-button").then(n.bind(null,"66c1"))},uIcon:function(){return n.e("node-modules/uview-ui/components/u-icon/u-icon").then(n.bind(null,"83fd"))},dkCopy:function(){return n.e("components/dk-copy/dk-copy").then(n.bind(null,"e9c2"))}},a=function(){var t=this;t.$createElement,t._self._c,t._isMounted||(t.e0=function(e){t.isCheck=!1},t.e1=function(e){t.show=!1})},r=[]},d6e9:function(t,e,n){"use strict";n.r(e);var i=n("f96e"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e.default=a.a},eae4:function(t,e,n){"use strict";var i=n("4561");n.n(i).a},f96e:function(t,e,n){"use strict";(function(t){var i=n("47a9");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("7eb4")),r=i(n("ee10")),u=n("942a"),o=n("ca4b"),c=n("3544"),s={name:"activity-manage",props:{activity_id:{type:Number,default:void 0},sid:{type:String,default:void 0},activity_type:{type:Number,default:void 0},vote_type:{type:Number,default:void 0},type:{type:Number,default:100}},data:function(){return{show:!1,isCheck:!1,manageBtn:o.manageBtn,ACTIVITY_VOTE:c.ACTIVITY_VOTE,ACTIVITY_PARAMS:c.ACTIVITY_PARAMS,ACTIVITY_QUESTION:c.ACTIVITY_QUESTION}},methods:{handleVoteSetting:function(t){switch(t){case"name":this.$u.route({url:"/pages-son/one/vote/preset-list",params:{id:this.activity_id,type:2}});break;case"home":this.$u.route({url:"pages/index/index",type:"switchTab"});break;case"group":this.$u.route({url:"pages-son/one/index/group-manage",params:{activity_id:this.activity_id,vote_type:this.vote_type}});break;case"more-setting":this.$u.route({url:"/pages-son/one/vote/more-setting",params:{activity_id:this.activity_id}});break;case"copy":this.activity_type===c.ACTIVITY_QUESTION?(this.$emit("copy"),this.show=!1):this.isCheck=!0;break;case"manage":this.$u.route({url:"/pages-son/vote/manage",params:{id:this.activity_id,sid:this.sid}});break;case"notice":this.$u.route({url:"/pages-son/vote/notice",params:{id:this.activity_id}});break;case"roster":this.$u.route({url:"/pages-son/one/vote/preset-list",params:{id:this.activity_id}});break;case"ranking":this.$u.route({url:"/pages-son/one/vote/ranking-list",params:{id:this.activity_id}});break;case"data-statistics":this.$emit("handleAction","data-statistics")}},handleAction:function(e){var n=this;return(0,r.default)(a.default.mark((function i(){return a.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t.showModal({title:"提示",content:"确定执行该操作吗？",success:function(){var t=(0,r.default)(a.default.mark((function t(i){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.confirm){t.next=22;break}t.t0=e,t.next="edit"===t.t0?4:"clear"===t.t0?9:"del"===t.t0?17:22;break;case 4:if(200!=n.type){t.next=7;break}return n.$u.route({url:"/pages-son/multiple/multiple-create",params:{edit_activity_id:n.activity_id}}),t.abrupt("return");case 7:return n.$u.route({url:c.ACTIVITY_PARAMS[n.activity_type].edit_url,params:{edit_activity_id:n.activity_id}}),t.abrupt("break",22);case 9:if(200!=n.type){t.next=12;break}return n.$u.api.newFormClear({id:n.activity_id}).then(function(){var t=(0,r.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("res === 1",e),t.next=3,(0,u.toast)("清除成功");case 3:n.$emit("event","refresh"),n.show=!1;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("return");case 12:if(n.activity_type!==c.ACTIVITY_QUESTION){t.next=15;break}return n.$u.api.solitaireReset({id:n.activity_id}).then((function(t){console.log("res === 1",t),n.$u.toast("操作成功"),n.$emit("event","refresh"),n.show=!1})),t.abrupt("return");case 15:return n.$u.api.reset({id:n.activity_id}).then((function(t){console.log("res === 2",t),n.$u.toast("操作成功"),n.$emit("event","refresh"),n.show=!1})),t.abrupt("break",22);case 17:return t.next=19,n.$u.api.newFormActivityDel({id:n.activity_id});case 19:return(0,u.toast)("删除成功"),setTimeout((function(){n.$u.route({url:"pages/index/index",type:"switchTab"})}),1500),t.abrupt("break",22);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 1:case"end":return i.stop()}}),i)})))()}}};e.default=s}).call(this,n("df3c").default)}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["components/dk-activity-manage-200/dk-activity-manage-200-create-component",{"components/dk-activity-manage-200/dk-activity-manage-200-create-component":function(t,e,n){n("df3c").createComponent(n("1287"))}},[["components/dk-activity-manage-200/dk-activity-manage-200-create-component"]]]);